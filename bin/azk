#!/usr/bin/env elixir
# vim: ft=elixir

# Project path
prj_path = System.cwd!

# Azk path
azk_path = Path.expand(Path.join([__DIR__, ".."]))

File.cd! azk_path, fn ->
  # Start mix
  Mix.start

  # Load azk/mix.exs and set depspath
  Code.load_file Path.join([azk_path, "mix.exs"])
  Mix.loadpaths

  # Start azk cli and run
  Azk.Cli.start(prj_path)
  Azk.Cli.run
end
