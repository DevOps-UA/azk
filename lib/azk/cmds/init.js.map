{"version":3,"file":"init.js","sources":["../../../src/cmds/init.js","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/21","@traceur/generated/TemplateParser/24","@traceur/generated/TemplateParser/23","@traceur/generated/TemplateParser/22","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"AAAA;ACAI,CAAJ,EAAI,CAAA,YAAY,kBAAoB,CAAC;UCArC,CAAA,OAAO,CFAmC,KAAK,CEArB;;;;;;;UAA1B,CAAA,OAAO,CFC0B,iBAAiB,CEDxB;;;UAA1B,CAAA,OAAO,CFEmC,eAAe,CEF/B;;;ACAtB,CAAJ,EAAI,MHIJ,SAAM,IAAG;AIJT,CAAA,gBAAe,iBAAiB,CAAC,IAAI,CACrB,eAA2B,CAAE,UAAS,CAAC,CAAA;CDDd,AHyBxC,CGzBwC;AEArC,CAAJ,EAAI,WAAqC,CAAA;ACAzC,CAAA,AAAC,eAAe,YAAY,CAAC,ONK3B,MAAM,CAAN,UAAO,IAAI,CAAE;AACP,CAAJ,MAAI,CAAA,QAAQ,EAAG,CAAA,MAAM,CAAC,UAAU,CAAC,CAAC;AAC9B,CAAJ,MAAI,CAAA,GAAG,EAAI,CAAA,IAAI,KAAK,GAAI,CAAA,IAAI,OAAO,IAAI,CAAC;AACpC,CAAJ,MAAI,CAAA,IAAI,EAAG,CAAA,IAAI,KAAK,CAAC,GAAG,CAAE,SAAQ,CAAC,CAAC;CAEpC,OAAI,EAAE,WAAW,CAAC,IAAI,CAAC,CAAA,EAAI,EAAC,IAAI,MAAM,CAAE;AACtC,CAAA,SAAI,KAAK,CAAC,IAAI,SAAS,CAAC,SAAS,CAAC,CAAE,SAAQ,CAAC,CAAC;CAC9C,WAAO,EAAC,CAAC;KACV;AAEG,CAFH,MAEG,CAAA,OAAO,EAAG,CAAA,SAAS,YAAY,CAAC,GAAG,CAAC,CAAC;AACzC,CAAA,YAAS,OAAO,CAAC,CACf,OAAO,CAAE,CAAA,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAA,CAAG,EAAC,cAAc,CAAC,EAAG,QAAO,CACzD,CAAE,KAAI,CAAC,CAAC;AAET,CAAA,OAAI,GAAG,CAAC,IAAI,SAAS,CAAC,WAAW,CAAC,CAAE,SAAQ,CAAC,CAAC;AAC9C,CAAA,OAAI,QAAQ,CAAC,IAAI,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;CAEtC,SAAO,EAAC,CAAC;GACV,MApBe,QAAO,CMHgC;CN0BlD,OAAS,KAAI,CAAC,GAAG,CAAE;AACxB,CAAA,EAAC,GAAI,IAAG,CAAC,aAAa,CAAE,IAAG,CAAC,CAAC,UACjB,CAAC,CAAC,SAAS,CAAE,KAAI,CAAC,CAAE,EAAE,OAAO,CAAE,MAAK,CAAE,CAAC,CAAA;CACpD;AO9BD,CP8BC,KO9BK,QAAQ;CCAd,WAAwB;CAAE,eAAyB;GAAE;ACArD,CAAA,WAAU,CAAE,KAAI;CAAA,AFAkB,CAAC;CPgCnC","sourcesContent":["import { Q, _, config, t, fs, path } from 'azk';\nimport { Command, Helpers } from 'azk/cli/command';\nimport { generator, example_system } from 'azk/generator';\n\nclass Cmd extends Command {\n  action(opts) {\n    var manifest = config(\"manifest\");\n    var cwd  = opts.path || this.parent.cwd;\n    var file = path.join(cwd, manifest);\n\n    if (fs.existsSync(file) && !opts.force) {\n      this.fail(this.tKeyPath(\"already\"), manifest);\n      return 1;\n    }\n\n    var systems = generator.findSystems(cwd);\n    generator.render({\n      systems: _.isEmpty(systems) ? [example_system] : systems,\n    }, file);\n\n    this.ok(this.tKeyPath('generated'), manifest);\n    this.tOutput(this.tKeyPath('github'));\n\n    return 0;\n  }\n}\n\nexport function init(cli) {\n  (new Cmd('init [path]', cli))\n    .addOption(['--force', '-f'], { default: false })\n}\n\n","var __moduleName = $__placeholder__0;","require($__placeholder__0)","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.defaultSuperCall(this,\n                $__placeholder__0.prototype, arguments)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","module.exports = $__placeholder__0;","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true"]}