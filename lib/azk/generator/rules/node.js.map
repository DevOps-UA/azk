{"version":3,"file":"node.js","sources":["../../../../src/generator/rules/node.js","@traceur/generated/TemplateParser/4","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/9","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/5","@traceur/generated/TemplateParser/1","@traceur/generated/TemplateParser/2"],"names":[],"mappings":"AAAA;ACAI,CAAJ,EAAI,CAAA,YAAY,6BAAoB,CAAC;UCArC,CAAA,OAAO,CFAqB,KAAK,CEAP;;;;UAA1B,CAAA,OAAO,CFCkC,qBAAqB,CEDpC;;;AFKtB,CAAJ,EAAI,CAAA,UAAU,EAAG,CAAA,CAAC,OAAO,CAAC,EAAE,CAAE,eAAc,CAAE;AAC5C,CAAA,OAAM,CAAE,OAAM;AACd,CAAA,MAAK,CAAG,oBAAmB;AAC3B,CAAA,UAAS,CAAE,EACT,aAAa,CACd;AAED,CAAA,cAAa,CAAE,KAAI;AACnB,CAAA,QAAO,CAAG,gBAAe;AACzB,CAAA,KAAI,CAAM,EACR,QAAQ,CAAE,MAAK,CAChB;CAAA,AACF,CAAC,CAAC;AGjBC,CAAJ,EAAI,OHmBG,SAAM,KAAI,CACH,EAAE,CAAE;AIpBlB,CJqBI,gBIrBW,UAAU,wCJqBf,EAAE,EIpByC,CJoBvC;AACV,CAAA,KAAI,KAAK,EAAG,UAAS,CAAC;CGtBe,AHuBtC,CGvBsC;AEArC,CAAJ,EAAI,aAAqC,CAAA;ACAzC,CAAA,AAAC,eAAe,YAAY,CAAC,QNyB3B,GAAG,CAAH,UAAI,GAAG,CAAE,CAAA,QAAQ,CAAE;AACb,CAAJ,MAAI,CAAA,IAAI,EAAG,CAAA,IAAI,oBAAoB,CAAC,GAAG,CAAE,eAAc,CAAC,CAAC;CACzD,SAAO,CAAA,IAAI,iBAAiB,CAAC,IAAI,CAAE,WAAU,CAAE,EAC7C,IAAI,CAAE,IAAG,CACV,CAAC,CAAC;GACJ,MAXuB,SAAQ,CMlBuB;ACDzD,CAAA,KAAM,QAAQ;CCAd,WAAwB;CAAE,eAAyB;GAAE;ACArD,CAAA,WAAU,CAAE,KAAI;CAAA,AFAkB,CAAC;CPgCnC","sourcesContent":["import { path, fs, _ } from 'azk';\nimport { BaseRule, example_system } from 'azk/generator/rules';\n\n// TODO: suggest an entry for test execution\n\nvar suggestion = _.extend({}, example_system, {\n  __type: \"node\",\n  image : \"dockerfile/nodejs\",\n  provision: [\n    \"npm install\"\n  ],\n  // TODO: extract this information package.json\n  mount_folders: true,\n  command : \"node index.js\",\n  envs    : {\n    NODE_ENV: \"dev\"\n  }\n});\n\nexport class Rule extends BaseRule {\n  constructor(ui) {\n    super(ui);\n    this.type = \"runtime\";\n  }\n\n  run(dir, _systems) {\n    var dirs = this.searchSystemsByFile(dir, \"package.json\");\n    return this.makeSystemByDirs(dirs, suggestion, {\n      root: dir\n    });\n  }\n}\n","var __moduleName = $__placeholder__0;","require($__placeholder__0)","var $__placeholder__0 = $__placeholder__1","$traceurRuntime.superCall($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                   $__placeholder__3)","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","module.exports = $__placeholder__0;","get $__placeholder__0() { return $__placeholder__1; }","__esModule: true"]}